const a="employees_v1",r=()=>[{id:"E001",firstName:"John",lastName:"Anderson",email:"john.anderson@example.com",phone:"+1-555-0123",role:"Admin",status:"Active",avatar:null,projects:[{id:"P001",name:"Alpha",role:"Lead",description:"Health data ingestion"},{id:"P002",name:"Beta",role:"Contributor",description:"Reporting & dashboards"}],createdAt:new Date().toISOString()},{id:"E002",firstName:"Sofia",lastName:"Martinez",email:"sofia.martinez@example.com",phone:"+1-555-0456",role:"Tester",status:"Invitation Sent",avatar:null,projects:[],createdAt:new Date().toISOString()}],l=t=>Array.isArray(t),i=()=>{try{const t=localStorage.getItem(a);if(!t){const o=r();return localStorage.setItem(a,JSON.stringify(o)),console.info("[employeesStorage] no data found — seeding demo data",a,o),o}const e=JSON.parse(t);if(!l(e)){const o=r();return localStorage.setItem(a,JSON.stringify(o)),console.warn("[employeesStorage] stored value malformed — reseeding",a,e),o}if(e.length===0){const o=r();return localStorage.setItem(a,JSON.stringify(o)),console.info("[employeesStorage] stored array was empty — reseeding demo data",a,o),o}return console.debug("[employeesStorage] loaded employees from storage",a,e.length),e}catch(t){console.error("[employeesStorage] error reading storage, seeding fallback",t);const e=r();try{localStorage.setItem(a,JSON.stringify(e))}catch{}return e}},d=t=>{try{localStorage.setItem(a,JSON.stringify(t)),console.debug("[employeesStorage] saved employees, count=",Array.isArray(t)?t.length:"??")}catch(e){console.error("[employeesStorage] failed to save employees",e)}},c=(t=[])=>{const e=t.map(n=>parseInt((n.id||"").replace(/^E0*/,"")||0,10)),s=(e.length?Math.max(...e):0)+1;return`E${String(s).padStart(3,"0")}`};export{c as g,i as l,d as s};
